plugins {
    id 'com.github.johnrengelman.shadow' version '4.0.2'
    id 'java'
}

shadowJar {
    baseName = 'shadow'
    classifier = null
    version = null
}

allprojects {
    apply plugin:'java'

    sourceCompatibility = 1.8

    repositories {
        mavenLocal()
        mavenCentral()
    }
}

apply from: file('gradle/heroku/clean.gradle')

project(":bot") {
    apply plugin: 'com.github.johnrengelman.shadow'

    apply from: file("$rootProject.projectDir/gradle/heroku/stage.gradle")
}

project(":web-server") {
    apply plugin: 'com.github.johnrengelman.shadow'

    apply from: file("$rootProject.projectDir/gradle/heroku/stage.gradle")
}
